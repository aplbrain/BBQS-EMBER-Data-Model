id: https://w3id.org/emberarchive/emberproject
name: emberproject
prefixes:
  linkml: https://w3id.org/linkml/
imports:
  - linkml:types
default_range: string

classes:

  EmberProject:
    tree_root: true
    attributes:

      id:
        description: Unique identifier
        identifier: true
        range: integer
        required: true

      project_id:
        description:
          Human-readable Project identifier. Typically <PI_LastName><Year>

      project_title:
        required: true       ## title of the project
        description: 
          title of the project

      project_description:
        required: true       ## must be supplied
        description: 
          text description of the project

      model_organisms:
        multivalued: true
        inlined_as_list: true
        description: Model organisms used in this project (e.g., Mus musculus, Homo sapiens)
      
      data_use_agreement:
        required: false
        description:
          Description or reference to the data use agreement governing access to restricted or controlled data

      data_use_agreement_required:
        required: false
        range: boolean
        description:
          Indicates whether a data use agreement is required to access any project data

      ember_doi:
        required: false
        any_of:
          - range: string
            pattern: "^10\\.\\d{4,9}/[-._;()/:A-Z0-9]+$"
          - range: string
            equals_string: ""
        description: DOI in EMBER system (empty string allowed until assigned)

      data_availability_emberdandi:
        required: true       ## must be supplied
        range: boolean       
        description: 
          yes/no indicating if data are available in emberdandi
      
      data_availability_emberrestricted:
        required: true       ## must be supplied
        range: boolean       
        description: 
          yes/no indicating if data are available in emberrestricted
      
      data_availability_embervault:
        required: true       ## must be supplied
        range: boolean       
        description:
          yes/no indicating if PHI/PII data in embervault

      access_tier_summary:
        required: true      ## must be supplied
        description: 
          text description of different data tiers
      
      access_level_emberdandisets:
        multivalued: true    
        inlined_as_list: true
        pattern: "^EMBER-DANDI:\\d{6}$"
        description:
          emberdandiset ids
      
      access_level_restricted_datasets:
        multivalued: true
        inlined_as_list: true
        description: 
          restricted dataset ids  

      access_level_access_vault_ids:
        multivalued: true
        inlined_as_list: true
        description: 
          embervault ids
      
      data_administrator:
        required: true
        range: Contributor
        inlined: true
        description: Primary point of contact for data management

      last_metadata_update:
        required: true      ## must be supplied
        description: 
          date and time of last metadata update
      
      metadata_version:
        required: true      ## must be supplied
        description: 
          version of the metadata

      related_publications:
        multivalued: true
        inlined_as_list: true
        range: Publication
        description:
          Publications associated with this project

      related_repositories:
        multivalued: true
        inlined_as_list: true
        description: 
          Identifiers for related repositories
      
      related_dandisets:
        multivalued: true
        inlined_as_list: true
        description: 
          DOIs for related dandisets
      
      related_data:
        multivalued: true
        inlined_as_list: true
        description: 
          Identifiers for other related datasets
      
      funding:
        range: Funding
        multivalued: true
        inlined_as_list: true
        description: Funding sources supporting this project

  
  Funding:
    description: Funding source information for the project
    attributes:

      id:
        description: Unique identifier
        identifier: true
        range: integer
        required: true

      start_year:
        required: true
        range: integer
        description: Start year of the funding award

      end_year:
        required: false
        range: integer
        description: End year of the funding award

      funding_institute:
        required: true
        description: Name of the funding institute (e.g., NIH, NSF, DARPA)

      award_number:
        required: true
        description: Funding award or grant number

      award_title:
        required: false
        description: Title of the funded award

      funding_url:
        required: false
        description: URL to the funding announcement or award page

  Contributor:
    description: Person or organization contributing to the project
    attributes:

      id:
        description: Unique identifier
        identifier: true
        range: integer
        required: true
      
      orcid:
        required: false
        pattern: "^https://orcid.org/\\d{4}-\\d{4}-\\d{4}-\\d{4}$"
        description: ORCID identifier for the contributor

      external_identifiers:
        multivalued: true
        description: External identifiers 

      name:
        required: true
        description: Full name of the contributor

      email:
        required: false
        description: Contact email address

      institution:
        required: false
        description: Institutional affiliation


  Publication:
    description: Scholarly publication associated with the project
    attributes:

      id:
        description: Unique identifier
        identifier: true
        range: integer
        required: true

      publication_doi:
        required: false
        any_of:
          - range: string
            pattern: "^10\\.\\d{4,9}/[-._;()/:A-Z0-9]+$"
          - range: string
            equals_string: ""
        description: DOI for the publication (empty string allowed if pending)

      title:
        required: true
        description: Title of the publication

      authors:
        multivalued: true
        inlined_as_list: true
        required: true
        range: Contributor
        description: Authors of the publication (references to Contributor objects)

      journal:
        required: false
        description: Journal or venue where the work was published

      year:
        required: false
        range: integer
        description: Year of publication

      publication_url:
        required: false
        description: URL to the publication landing page or preprint

